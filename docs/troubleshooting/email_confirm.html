<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°œë°œì¼ì§€ ì‚¬ê±´ íŒŒì¼: ì´ë©”ì¼ ì¸ì¦ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f1f5f9;
        }
        .timeline-item {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .timeline-item.active {
            background-color: #1e40af; /* Deep Blue */
            color: white;
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .timeline-item.active .timeline-phase {
            color: white;
        }
        .timeline-item:not(.active):hover {
            background-color: #bfdbfe; /* Light Blue */
            transform: translateY(-2px);
        }
        .content-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .code-block {
            background-color: #1e293b;
            color: #e2e8f0;
            font-family: 'Courier New', Courier, monospace;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-size: 0.875rem;
        }
        .text-error { color: #dc3545; }
        .text-warning { color: #ffc107; }
        .text-success { color: #10b981; }
    </style>
</head>
<body class="text-slate-800">

    <main class="container mx-auto p-4 md:p-8 max-w-5xl">
        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900">ì‚¬ê±´ íŒŒì¼: ì´ë©”ì¼ ì¸ì¦ ê¸°ëŠ¥ ê°œë°œ</h1>
            <p class="mt-2 text-lg text-slate-600">Spring + React í™˜ê²½ì—ì„œ ê²ªì—ˆë˜ ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„ ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê¸°ë¡.</p>
        </header>

        <nav id="timeline-nav" class="flex flex-col md:flex-row justify-center items-center gap-2 md:gap-4 mb-12">
        </nav>

        <div id="content-area">
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const timelineNav = document.getElementById('timeline-nav');
            const contentArea = document.getElementById('content-area');
            let currentPhaseIndex = 0;

            const caseFiles = [
                {
                    phase: "2025-08-13",
                    title: "GET/POST ë° 403 ì¸ì¦ ì˜¤ë¥˜",
                    icon: "ğŸŒ",
                    content: {
                        symptom: "React `fetch`ì—ì„œ <span class='text-error'>GET ìš”ì²­ì— `body`ë¥¼ í¬í•¨</span>í•˜ì—¬ `TypeError` ë°œìƒ. ë˜í•œ, Spring Security ì„¤ì • í›„ <span class='text-error'>403 Forbidden ì—ëŸ¬</span> ë°œìƒ.",
                        hypothesis: "GET ìš”ì²­ì˜ ì˜¤ìš© ë° Spring Securityì˜ ê²½ë¡œ ì¸ì¦ ë¬¸ì œ.",
                        investigation: [
                            "React `fetch` ì‚¬ìš© ì‹œ GET ë°©ì‹ì— body ì‚¬ìš©ë²• í™•ì¸ (ì˜¤ë¥˜ ë°œìƒ)",
                            "`Accept`, `Content-Type` í—¤ë” ì •ë¦¬ ë° JSON ì‘ë‹µ ì„¤ê³„ (`ok` ê°’)",
                            "Spring `SecurityConfig` ì¤‘ `authorizeHttpRequests` ì„¤ì • í™•ì¸"
                        ],
                        breakthrough: "GET ìš”ì²­ ì˜¤ë¥˜ëŠ” <span class='text-success'>POST ë°©ì‹ê³¼ `@RequestBody` ì‚¬ìš©</span>ìœ¼ë¡œ í•´ê²°. 403 ì—ëŸ¬ëŠ” Tomcatì´ `/error`ë¡œ ë‚´ë¶€ í¬ì›Œë“œ ì‹œ ê²½ë¡œ ì¸ì¦ì´ ë§‰í˜€ ë°œìƒí•˜ëŠ” ê²ƒì„ì„ íŒŒì•…í•˜ê³  `requestMatches(\"/error\").permitAll()`ì„ <span class='text-success'>Spring Security</span>ì— ì¶”ê°€í•˜ì—¬ í•´ê²°."
                    }
                },
                {
                    phase: "2025-08-14",
                    title: "ë¹„ë™ê¸° ë©”ì¼ ì†¡ì‹  ë° Null ì—ëŸ¬",
                    icon: "ğŸ“§",
                    content: {
                        symptom: "ì´ë©”ì¼ ì¸ì¦ ìš”ì²­ ì‹œ <span class='text-warning'>ì‘ë‹µ ì†ë„ê°€ 14ì´ˆ</span>ë¡œ ë§¤ìš° ëŠë¦¼. ë˜í•œ, ì´ë©”ì¼ ì •ê·œì‹ ê´€ë ¨ ë¬¸ì œë¡œ Spring Mail Senderì—ì„œ <span class='text-error'>Email Null ë°œìƒ</span>.",
                        hypothesis: "ë©”ì¼ ì „ì†¡ì˜ ë™ê¸°ì  ì²˜ë¦¬ì™€ í´ë¼ì´ì–¸íŠ¸ ìœ íš¨ì„± ê²€ì‚¬ ë¯¸ë¹„.",
                        investigation: [
                            "Springì— `@Async` ì ìš© ì‹œë„ ë° `@Configuration + @EnableAsync` ì„¤ì • í™•ì¸",
                            "SMTP ì—°ê²° ì‹œê°„ ì¸¡ì • ë¡œê¹…",
                            "Reactì—ì„œ `email` ì •ê·œì‹ í™•ì¸ ë° API í˜¸ì¶œ ì¡°ê±´ ì ê²€"
                        ],
                        breakthrough: "Spring Serviceì— <span class='text-success'>`@Async`ë¥¼ ì ìš©í•˜ì—¬ ë¹„ë™ê¸° ë©”ì¼ ì „ì†¡</span>ìœ¼ë¡œ í™”ë©´ ë°˜ì‘ ì†ë„ë¥¼ 1ì´ˆë¡œ ê°œì„ . Email Null ë¬¸ì œëŠ” Reactì˜ `useState` ë³€ìˆ˜ë¥¼ ì¶”ì¶œí•˜ì—¬ `o`ë¡œ ëë‚˜ëŠ” ë“± ë¶ˆì™„ì „í•œ ìƒíƒœì—ì„œëŠ” <span class='text-success'>API í˜¸ì¶œì„ ë°©ì§€</span>í•˜ë„ë¡ ì²˜ë¦¬í•˜ì—¬ í•´ê²°."
                    }
                },
                {
                    phase: "2025-08-17",
                    title: "React íƒ€ì´ë¨¸ì™€ ì¤‘ë³µ ë Œë”ë§/ìš”ì²­",
                    icon: "â±ï¸",
                    content: {
                        symptom: "ì¹´ìš´íŠ¸ ë‹¤ìš´ íƒ€ì´ë¨¸ê°€ <span class='text-error'>10ì´ˆ ì´ìƒ í•œ ë²ˆì— ê¹ì´ëŠ” í˜„ìƒ</span> ë°œìƒ. ë˜í•œ, `StrictMode`/`HMR` ì˜í–¥ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ 2ê°œ ìƒì„± ì‹œ <span class='text-error'>ë™ì‹œì— ë‘ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°™ì€ ìš”ì²­ì„ ë°œì‚¬</span>í•˜ëŠ” ë¬¸ì œ ë°œìƒ.",
                        hypothesis: "`setInterval`ì˜ í´ë¡œì € ë¬¸ì œ ë° ë Œë”ë§ ì‹œ API í˜¸ì¶œ êµ¬ì¡°.",
                        investigation: [
                            "`setInterval` ê¸°ë°˜ ì¹´ìš´íŠ¸ë‹¤ìš´ ì´ìŠˆ ë¶„ì„ (ì¤‘ë³µ interval/í´ë¡œì €/StrictMode)",
                            "ë Œë” ì‹œ ì¦‰ì‹œ í˜¸ì¶œë˜ëŠ” êµ¬ì¡° í™•ì¸: `const api = reqCommonFunc(...)`",
                            "`debugger`, `console.trace`ë¥¼ ì´ìš©í•œ í˜¸ì¶œ ì¶”ì "
                        ],
                        breakthrough: "íƒ€ì´ë¨¸ ì´ìŠˆëŠ” <span class='text-success'>`useEffect([]) + cleanup` ì—„ìˆ˜ ë° í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸(setState(prev=>...))</span>ë¡œ Stale Closure ë°©ì§€í•˜ì—¬ í•´ê²°. ì¤‘ë³µ ìš”ì²­ì€ API í˜¸ì¶œì„ ë Œë” ë³¸ë¬¸ì—ì„œ ì œê±°í•˜ê³  <span class='text-success'>`useCallback` íŒ¨í„´ í™•ë¦½ ë° ë²„íŠ¼ ì—°íƒ€ ê°€ë“œ(pending)</span>ë¥¼ í†µí•´ ì´ë²¤íŠ¸ ê¸°ë°˜ìœ¼ë¡œ ì „í™˜í•˜ì—¬ í•´ê²°."
                    }
                },
                {
                    phase: "2025-08-26",
                    title: "Docker Redis ì—°ê²° ë° ë¡œì»¬ ì¶©ëŒ",
                    icon: "ğŸ³",
                    content: {
                        symptom: "Spring Boot ì•±ì´ Dockerë¡œ ì‹¤í–‰ ì¤‘ì¸ Redisì— ì—°ê²° ì‹¤íŒ¨í•˜ê³ , <span class='text-error'>`RedisConnectionFailureException`</span> ë° `ERR Client sent AUTH, but no password is set` ì˜ˆì™¸ ë°œìƒ.",
                        hypothesis: "Spring ì„¤ì • ë¬¸ì œ ë˜ëŠ” ë¡œì»¬ í™˜ê²½ Redis ì„œë²„ì™€ì˜ ì¶©ëŒ.",
                        investigation: [
                            "`StringRedisTemplate.opsForValue().set()`ìœ¼ë¡œ ì—°ê²° í…ŒìŠ¤íŠ¸",
                            "`docker exec -it redis redis-cli monitor` ëª…ë ¹ìœ¼ë¡œ ì‹¤ì‹œê°„ ë¡œê·¸ ì¶”ì ",
                            "`application.yml`ì— `spring.redis.password` ì„¤ì • ëˆ„ë½ ì—¬ë¶€ ì ê²€",
                            "ë¡œì»¬ PCì—ì„œ ì‹¤í–‰ ì¤‘ì¸ `redis-server.exe` í”„ë¡œì„¸ìŠ¤ í™•ì¸"
                        ],
                        breakthrough: "ì´ˆê¸°ì—ëŠ” Springì´ <span class='text-error'>Docker Redisê°€ ì•„ë‹Œ ë¡œì»¬ Redis</span>ì— ì—°ê²°ë˜ì–´ ë¬¸ì œê°€ ë°œìƒí–ˆìŒì„ í™•ì¸. ê´€ë¦¬ì ê¶Œí•œ PowerShellì—ì„œ <span class='text-success'>ë¡œì»¬ `redis-server.exe` í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œ</span>í•˜ê³ , `application.yml`ì— <span class='text-success'>ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¶”ê°€</span>í•˜ì—¬ Docker Redisì— ì •ìƒ ì—°ê²° ì„±ê³µ."
                    }
                },
                {
                    phase: "2025-08-30",
                    title: "Spring Security 403 ë¡œê·¸ì¸ ì˜¤ë¥˜",
                    icon: "ğŸ”‘",
                    content: {
                        symptom: "ë¡œê·¸ì¸ ìš”ì²­ ì‹œ <span class='text-error'>403 Forbidden</span> ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„ ë¶ˆê°€.",
                        hypothesis: "Spring Security ì„¤ì •ì—ì„œ ë¡œê·¸ì¸ ì—”ë“œí¬ì¸íŠ¸ì˜ ì ‘ê·¼ ê¶Œí•œ ëˆ„ë½.",
                        investigation: [
                            "Spring Securityì˜ `anyRequest().authenticated()` ì˜ë¯¸ ë¶„ì„",
                            "ë¡œê·¸ì¸ ìš”ì²­ URLê³¼ HTTP ë©”ì„œë“œ í™•ì¸",
                            "Security Filter Chainì˜ ì¸ì¦/ì¸ê°€ ìˆœì„œ ì¶”ì "
                        ],
                        breakthrough: "ë¬¸ì œëŠ” Spring Securityê°€ ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ìš”ì²­ì— ì¸ì¦ì„ ìš”êµ¬(`authenticated()`)í–ˆê¸° ë•Œë¬¸. ë¡œê·¸ì¸ ì—”ë“œí¬ì¸íŠ¸(`e.g. /api/auth/login`)ë¥¼ <span class='text-success'>`permitAll()`</span>ë¡œ ëª…ì‹œì ìœ¼ë¡œ í—ˆìš©í•˜ì—¬ 403 ë¬¸ì œë¥¼ í•´ê²°."
                    }
                }
            ];

            function render() {
                // íƒ€ì„ë¼ì¸ ë Œë”ë§
                timelineNav.innerHTML = '';
                caseFiles.forEach((file, index) => {
                    const item = document.createElement('div');
                    item.className = `timeline-item flex-1 p-3 md:p-4 rounded-lg shadow-md bg-white border border-slate-200 text-center ${index === currentPhaseIndex ? 'active' : ''}`;
                    item.dataset.index = index;
                    item.innerHTML = `
                        <div class="text-3xl mb-1">${file.icon}</div>
                        <div class="font-bold text-sm md:text-base">${file.title}</div>
                        <div class="timeline-phase text-xs text-slate-500">${file.phase}</div>
                    `;
                    timelineNav.appendChild(item);
                });

                // ì½˜í…ì¸  ë Œë”ë§
                const file = caseFiles[currentPhaseIndex];
                contentArea.innerHTML = '';
                const contentDiv = document.createElement('div');
                contentDiv.className = 'content-fade-in bg-white p-6 md:p-8 rounded-lg shadow-lg border border-slate-200';
                
                let investigationItems = file.content.investigation
                    .map(item => `<li class="flex items-start"><span class="mr-2 text-blue-500">â€¢</span><span>${item}</span></li>`)
                    .join('');

                contentDiv.innerHTML = `
                    <h2 class="text-2xl font-bold mb-4 text-slate-900">${file.icon} ${file.title}</h2>
                    <div class="space-y-6">
                        <div>
                            <h3 class="font-semibold text-lg text-red-600 mb-2">ì¦ìƒ</h3>
                            <p class="text-slate-700">${file.content.symptom}</p>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg text-yellow-600 mb-2">ì´ˆê¸° ê°€ì„¤ / ì‹œë„</h3>
                            <p class="text-slate-700">${file.content.hypothesis}</p>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg text-blue-600 mb-2">ìˆ˜ì‚¬ ë° ë‹¨ì„œ (ì‹œí–‰ì°©ì˜¤ í¬í•¨)</h3>
                            <ul class="space-y-2 text-slate-700">${investigationItems}</ul>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg text-green-600 mb-2">ê²°ì •ì  ëŒíŒŒêµ¬ / í•´ê²°ì±…</h3>
                            <p class="text-slate-700 font-medium">${file.content.breakthrough}</p>
                        </div>
                    </div>
                `;
                contentArea.appendChild(contentDiv);
            }
            
            timelineNav.addEventListener('click', (e) => {
                const target = e.target.closest('.timeline-item');
                if (target && target.dataset.index) {
                    currentPhaseIndex = parseInt(target.dataset.index, 10);
                    render();
                }
            });

            // ì´ˆê¸° ë Œë”ë§
            render();
        });
    </script>

</body>
</html>